<app-topbar></app-topbar>
<div class="container">
  <div class="header">
    <span class="search-bar">
      <span class="input">
        Search
        <input
          matInput
          placeholder="Search for Everything, Company Name, Company Email, Website, "
          type="search"
          [(ngModel)]="searchedValue"
          (input)="searchHandler()"
      /></span>
    </span>
    <span
      ><button mat-raised-button (click)="startAddingCompany()">
        <i class="material-icons">add</i>Add New
      </button>
    </span>
  </div>
  <hr />
  <!-- <app-table></app-table> -->
  <div class="container">
    <table mat-table [dataSource]="dataSource!" class="mat-elevation-z8">
      <ng-container matColumnDef="companyName">
        <th mat-header-cell *matHeaderCellDef>Company Name</th>
        <td mat-cell *matCellDef="let company">{{ company.companyName }}</td>
      </ng-container>
      <ng-container matColumnDef="socialMediaLink">
        <th mat-header-cell *matHeaderCellDef>Social Media Link</th>
        <td mat-cell *matCellDef="let company">
          <a href="{{ company.socialMediaLink }}">{{
            company.socialMediaLink
          }}</a>
        </td>
      </ng-container>
      <ng-container matColumnDef="companyPhone">
        <th mat-header-cell *matHeaderCellDef>Phone</th>
        <td mat-cell *matCellDef="let company">{{ company.companyPhone }}</td>
      </ng-container>
      <ng-container matColumnDef="companyWebsite">
        <th mat-header-cell *matHeaderCellDef>Website</th>
        <td mat-cell *matCellDef="let company">{{ company.companyWebsite }}</td>
      </ng-container>
      <ng-container matColumnDef="contactEmail">
        <th mat-header-cell *matHeaderCellDef>Contact Email</th>
        <td mat-cell *matCellDef="let company">{{ company.contactEmail }}</td>
      </ng-container>
      <ng-container matColumnDef="otherContacts">
        <th mat-header-cell *matHeaderCellDef>Other Contact</th>
        <td mat-cell *matCellDef="let company">{{ company.otherContact }}</td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let company">
          <button
            type="button"
            class="button-edit"
            mat-icon-button
            (click)="editCompanyDetails(company)"
          >
            <mat-icon>edit</mat-icon>
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let company">
          <button
            (click)="deleteCompanyRecord(company._id)"
            type="button"
            class="button-delete"
            mat-icon-button
          >
            <mat-icon class="mat-delete-icon">delete</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
